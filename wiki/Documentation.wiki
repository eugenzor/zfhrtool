#summary Документирование

= Документирование =

== Введение ==
Документация будет вестись с оглядкой на требования phpDocumentor и стандарта Zend [http://framework.zend.com/manual/en/coding-standard.coding-style.html]
Требования документирования Zend избыточны. Достаточно документировать в половину меньше.

Особенности документации:
  * Блок документации начинается с символов
{{{
/**
}}}

  * Заканчиваются символами
{{{
*/
}}}

  * Каждая строка блока документации начинается с символа `*`
  * Блоки документации файла располагаются вверху файла, блок документации класса, свойства или метода над соответственно классом, свойством или методом.
  * Блоки документации содержат теги. Тег в блоке докуметации начинается с символа "@". Например, @package - тег "package", @param - тег "param"

== Требования к документации ==
=== Теги, которые мы будем использовать ===
  * @package - zfhrtool
  * @subpackage - название субпакета (например, Controller, Model, Test)
  * @var - свойство класса. Далее идут тип поля, (например @var array)
  * @param - параметр, переданный методу. Далее идут: тип параметра, имя параметра, описание. (Например: @param string $data данные (контент), которые должны быть положены в этот элемент)
  * @return - тип возвращаемого методом значения (например @return integer)

Типы:
  * bool
  * integer
  * string
  * array
  * Объект (имя класса объекта)
  * null
  * void (если метод ничего не возвращает)

Типы можно смешивать, например string|array - если передавать в параметры можно строку или массив

=== Пакет и субпакет ===
Пакет и субпакет в документации устанавливаются тегами @package и @subpackage

Пакет и субпакет обязательно указывается в документации файла и класса (если он в этом файле есть)

  * название субпакета - название типа файла, если это контроллер, @subpackage Controller, если это модель @subpackage Model, если это тест, @subpackage Test. Если проект написан без smarty - и это вид или слой, @subpackage View. 
  * Bootstrap.php и index.php ни к какому подпакету не принадлежат

=== Обязательные теги ===
  * Блок файла - @package и @subpackage. Title и Description, если в этом файле нету класса
  * Блок класса - title, description, @package и @subpackage
  * Блок свойства - title, @var
  * Блок метода - title, @return и @param (если есть). Тег description не является обязательным, но желательным, что бы обьяснить, что происходит в этом методе.


В тестах документируются только блок файла и блок класса

== PhpDocumentor ==
PhpDocumentor - это pear cli программа, которая позволяет сформировать html документацию на базе продокументированного кода. 

== Установка PhpDocumentor ===
{{{
sudo pear install PhpDocumentor
}}}

При установке в шаблонах ставится кодировка iso-8859-1, поэтому русский текст нечитабелен. Для того, что бы это поправить, открываем шаблон:
{{{
sudo gedit /usr/share/php/data/PhpDocumentor/phpDocumentor/Converters/HTML/frames/templates/DOM/earthli/templates/header.tpl
}}}

и в нем в двух местах меняем iso-8859-1 на utf-8

=== Использование ===
{{{
phpdoc -t {путь к документации} -o HTML:frames:DOM/earthli -d {путь к проекту}
}}}

Например, если мы находимся в папке проекта:
{{{
phpdoc -t /tmp/mydoc -o HTML:frames:DOM/earthli -d ./
}}}